# Design 1 - 完成Vocab App项目

## Requirements

根据PROJECT_SUMMARY.md，需要完成以下核心功能来完善这个macOS词汇翻译应用：

### 主要待完成功能：
1. **创建托盘图标资源文件** - 应用需要托盘图标才能在系统托盘显示
2. **测试应用基本功能** - 验证Ctrl+1快捷键、翻译功能、数据库操作是否正常工作
3. **实现OCR截图翻译功能** - 集成macOS Vision API，完成Ctrl+2快捷键的OCR截图识别翻译
4. **应用打包和分发** - 确保应用能正确构建和打包为macOS .dmg安装包

### 技术要求：
- 保持现有技术栈：Electron + React + TypeScript + SQLite
- 确保Claude API集成正常工作
- 维护现有的UI设计和用户体验
- 所有功能需要通过测试验证

### 用户体验要求：
- 快捷键响应迅速（<200ms）
- 翻译准确性高
- 界面美观，符合macOS设计规范
- 数据本地存储，保护用户隐私

## Solution

### 1. 托盘图标资源创建
- 创建 `assets/` 目录和图标文件
- 生成不同尺寸的PNG图标：16x16, 32x32, 64x64
- 创建 `tray-icon.png` 和 `icon.icns` 文件
- 使用简洁的"V"字母设计，适配明暗主题

### 2. 应用功能测试
- 验证数据库初始化和SQLite连接
- 测试Ctrl+1快捷键和快速输入窗口
- 验证Claude API翻译服务集成
- 测试词汇添加、查询、标签功能
- 检查UI组件渲染和交互

### 3. OCR截图翻译实现
- 使用macOS Vision框架进行文字识别
- 实现截图捕获功能（调用系统截图API）
- 集成OCR识别结果到现有翻译流程
- 完善Ctrl+2快捷键功能

### 4. 应用构建和打包
- 修复所有构建警告和错误
- 测试生产环境构建
- 验证.dmg安装包生成
- 确保安装包可正常安装运行

## Tests

### 功能测试
- 手动测试：Ctrl+1快捷键 → 输入单词 → 获得翻译结果 → 保存到数据库
- 手动测试：Ctrl+2快捷键 → 截图选择 → OCR识别 → 翻译结果
- 自动化测试：数据库CRUD操作正确性
- 集成测试：Claude API调用成功率 > 95%

### 构建测试
- `npm run typecheck` 通过，无类型错误
- `npm run build` 成功，无编译错误  
- `npm run start` 能启动应用
- `npm run dist` 能生成.dmg安装包

### 用户体验测试
- 快捷键响应时间 < 200ms
- 翻译查询响应时间 < 3s
- UI交互流畅，无卡顿
- 托盘菜单功能正常